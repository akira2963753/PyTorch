"use strict";(self.webpackChunkanytype_publish_renderer=self.webpackChunkanytype_publish_renderer||[]).push([["1282"],{50245:function(e,t,r){r.d(t,{oN:()=>n}),r(331),r(53289);class n{constructor(e){this.syncParser=e.parser.LangiumParser}parse(e){return Promise.resolve(this.syncParser.parse(e))}}},42656:function(e,t,r){r.d(t,{n:()=>i});var n=r(64441),s=r(75076);function i(e){let t=e.Grammar,r=e.parser.Lexer,i=new n.qL(e);return(0,s.j)(t,i,r.definition),i.finalize(),i}},6149:function(e,t,r){r.d(t,{EO:()=>l,N1:()=>o,Vc:()=>d,ho:()=>u});var n=r(60982),s=r(2086),i=r(75314);class o{constructor(){this.nodeStack=[]}get current(){return this.nodeStack[this.nodeStack.length-1]}buildRootNode(e){return this.rootNode=new d(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new u;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new l(e.startOffset,e.image.length,(0,i.sp)(e),e.tokenType,!1);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}construct(e){let t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();(null==r?void 0:r.content.length)===0&&this.removeNode(r)}addHiddenTokens(e){for(let t of e){let e=new l(t.startOffset,t.image.length,(0,i.sp)(t),t.tokenType,!0);e.root=this.rootNode,this.addHiddenToken(this.rootNode,e)}}addHiddenToken(e,t){let{offset:r,end:n}=t;for(let i=0;i<e.content.length;i++){let o=e.content[i],{offset:a,end:l}=o;if((0,s.al)(o)&&r>a&&n<l){this.addHiddenToken(o,t);return}if(n<=a){e.content.splice(i,0,t);return}}e.content.push(t)}}class a{get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!r)throw Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}}class l extends a{get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,n,s=!1){super(),this._hidden=s,this._offset=e,this._tokenType=n,this._length=t,this._range=r}}class u extends a{constructor(){super(...arguments),this.content=new c(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(!e||!t)return{start:n.Ly.create(0,0),end:n.Ly.create(0,0)};if(void 0===this._rangeCache){let{range:r}=e,{range:n}=t;this._rangeCache={start:r.start,end:n.end.line<r.start.line?r.start:n.end}}return this._rangeCache}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}}class c extends Array{constructor(e){super(),this.parent=e,Object.setPrototypeOf(this,c.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...r){return this.addParents(r),super.splice(e,t,...r)}addParents(e){for(let t of e)t.container=this.parent}}class d extends u{get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=null!=e?e:""}}},48766:function(e,t,r){r.d(t,{PH:()=>n.P,tI:()=>s.t}),r(50245),r(42656),r(6149),r(21474),r(64441),r(88543);var n=r(20548),s=r(39897)},21474:function(e,t,r){r.d(t,{_:()=>i});var n=r(64441),s=r(75076);function i(e){let t=function(e){let t=e.Grammar,r=e.parser.Lexer,i=new n._v(e);return(0,s.j)(t,i,r.definition)}(e);return t.finalize(),t}},64441:function(e,t,r){r.d(t,{IY:()=>g,_v:()=>f,qL:()=>m});var n=r(23324),s=r(5887),i=r(64657),o=r(46577),a=r(23144),l=r(6149);let u=Symbol("Datatype");function c(e){return e.$type===u}let d=e=>e.endsWith("​")?e:e+"​";class h{constructor(e){this._unorderedGroups=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition;this.wrapper=new y(t,Object.assign(Object.assign({},e.parser.ParserConfig),{errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}}class f extends h{get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new l.N1,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=e.fragment?void 0:(0,o.UP)(e)?u:(0,o.z$)(e),n=this.wrapper.DEFINE_RULE(d(e.name),this.startImplementation(r,t).bind(this));return e.entry&&(this.mainRule=n),n}parse(e){this.nodeBuilder.buildRootNode(e);let t=this.lexer.tokenize(e);this.wrapper.input=t.tokens;let r=this.mainRule.call(this.wrapper,{});return this.nodeBuilder.addHiddenTokens(t.hidden),this.unorderedGroups.clear(),{value:r,lexerErrors:t.errors,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{let n;if(!this.isRecording()){let t={$type:e};this.stack.push(t),e===u&&(t.value="")}try{n=t(r)}catch(e){n=void 0}return this.isRecording()||void 0!==n||(n=this.construct()),n}}consume(e,t,r){let n=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(n)){let e=this.nodeBuilder.buildLeafNode(n,r),{assignment:t,isCrossRef:s}=this.getAssignment(r),o=this.current;if(t){let o=(0,i.p1)(r)?n.image:this.converter.convert(n.image,e);this.assign(t.operator,t.feature,o,e,s)}else if(c(o)){let t=n.image;(0,i.p1)(r)||(t=this.converter.convert(t,e).toString()),o.value+=t}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,r,n){let s;this.isRecording()||(s=this.nodeBuilder.buildCompositeNode(r));let i=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&s&&s.length>0&&this.performSubruleAssignment(i,r,s)}performSubruleAssignment(e,t,r){let{assignment:n,isCrossRef:s}=this.getAssignment(t);if(n)this.assign(n.operator,n.feature,e,r,s);else if(!n){let t=this.current;if(c(t))t.value+=e.toString();else if("object"==typeof e&&e){let r=e.$type,n=this.assignWithoutOverride(e,t);r&&(n.$type=r),this.stack.pop(),this.stack.push(n)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(!r.$cstNode&&t.feature&&t.operator){let e=(r=this.construct(!1)).$cstNode.feature;this.nodeBuilder.buildCompositeNode(e)}this.stack.pop(),this.stack.push({$type:e}),t.feature&&t.operator&&this.assign(t.operator,t.feature,r,r.$cstNode,!1)}}construct(e=!0){if(this.isRecording())return;let t=this.current;return((0,a.b2)(t),this.nodeBuilder.construct(t),e&&this.stack.pop(),c(t))?this.converter.convert(t.value,t.$cstNode):((0,a.a1)(this.astReflection,t),t)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=(0,a.V_)(e,i.B7);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&(0,i.Ki)(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,r,n,s){let i;let o=this.current;switch(i=s&&"string"==typeof r?this.linker.buildReference(o,t,n,r):r,e){case"=":o[t]=i;break;case"?=":o[t]=!0;break;case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(i)}}assignWithoutOverride(e,t){for(let[r,n]of Object.entries(t)){let t=e[r];void 0===t?e[r]=n:Array.isArray(t)&&Array.isArray(n)&&(n.push(...t),e[r]=n)}return e}get definitionErrors(){return this.wrapper.definitionErrors}}class p{buildMismatchTokenMessage(e){return n.Hs.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return n.Hs.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return n.Hs.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return n.Hs.buildEarlyExitMessage(e)}}class g extends p{buildMismatchTokenMessage({expected:e,actual:t}){let r=e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`;return`Expecting ${r} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}}class m extends h{constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e);return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(d(e.name),this.startImplementation(t).bind(this));return e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,n){this.before(r),this.wrapper.wrapSubrule(e,t,n),this.after(r)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}}let v={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new g};class y extends n.nu{constructor(e,t){super(e,Object.assign(Object.assign(Object.assign({},v),{lookaheadStrategy:t&&"maxLookahead"in t?new n.dV({maxLookahead:t.maxLookahead}):new s.j}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}}},88543:function(e,t,r){r.d(t,{RH:()=>s});var n=r(23324);class s{constructor(e){let t=e.parser.TokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=o(t)?Object.values(t):t;this.chevrotainLexer=new n.hW(r,{positionTracking:"full"})}get definition(){return this.tokenTypes}tokenize(e){var t;let r=this.chevrotainLexer.tokenize(e);return{tokens:r.tokens,errors:r.errors,hidden:null!==(t=r.groups.hidden)&&void 0!==t?t:[]}}toTokenTypeDictionary(e){if(o(e))return e;let t=i(e)?Object.values(e.modes).flat():e,r={};return t.forEach(e=>r[e.name]=e),r}}function i(e){return e&&"modes"in e&&"defaultMode"in e}function o(e){return!(Array.isArray(e)&&(0===e.length||"name"in e[0]))&&!i(e)}},75076:function(e,t,r){r.d(t,{j:()=>l});var n=r(23324),s=r(64657),i=r(34455),o=r(47895),a=r(46577);function l(e,t,r){return function(e,t){let r=(0,a.VD)(t,!1);for(let l of(0,o.Vw)(t.rules).filter(s.F9).filter(e=>r.has(e))){let t=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});t.rules.set(l.name,e.parser.rule(l,function e(t,r,o=!1){let l;if((0,s.p1)(r))l=function(e,t){let r=e.consume++,n=e.tokens[t.value];if(!n)throw Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,n,t)}(t,r);else if((0,s.LG)(r))l=function(e,t){let r=(0,a.z$)(t);return()=>e.parser.action(r,t)}(t,r);else if((0,s.B7)(r))l=e(t,r.terminal);else if((0,s.Ki)(r))l=function e(t,r,n=r.terminal){if(n){if((0,s.t3)(n)&&(0,s.F9)(n.rule.ref)){let e=t.subrule++;return s=>t.parser.subrule(e,h(t,n.rule.ref),r,s)}if((0,s.t3)(n)&&(0,s.MS)(n.rule.ref)){let e=t.consume++,s=f(t,n.rule.ref.name);return()=>t.parser.consume(e,s,r)}else if((0,s.p1)(n)){let e=t.consume++,s=f(t,n.value);return()=>t.parser.consume(e,s,r)}else throw Error("Could not build cross reference parser")}{if(!r.type.ref)throw Error("Could not resolve reference to type: "+r.type.$refText);let n=(0,a.ib)(r.type.ref),s=null==n?void 0:n.terminal;if(!s)throw Error("Could not find name assignment for type: "+(0,a.z$)(r.type.ref));return e(t,r,s)}}(t,r);else if((0,s.t3)(r))l=function(e,t){let r=t.rule.ref;if((0,s.F9)(r)){let n=e.subrule++,s=t.arguments.length>0?function(e,t){let r=t.map(e=>u(e.value));return t=>{let n={};for(let s=0;s<r.length;s++){let i=e.parameters[s],o=r[s];n[i.name]=o(t)}return n}}(r,t.arguments):()=>({});return i=>e.parser.subrule(n,h(e,r),t,s(i))}if((0,s.MS)(r)){let n=e.consume++,s=f(e,r.name);return()=>e.parser.consume(n,s,t)}if(r)(0,i.U)(r);else throw new i.h(t.$cstNode,`Undefined rule type: ${t.$type}`)}(t,r);else if((0,s.MZ)(r))l=function(t,r){if(1===r.elements.length)return e(t,r.elements[0]);{let n=[];for(let s of r.elements){let r={ALT:e(t,s,!0)},i=c(s);i&&(r.GATE=u(i)),n.push(r)}let s=t.or++;return e=>t.parser.alternatives(s,n.map(t=>{let r={ALT:()=>t.ALT(e)},n=t.GATE;return n&&(r.GATE=()=>n(e)),r}))}}(t,r);else if((0,s.W1)(r))l=function(t,r){if(1===r.elements.length)return e(t,r.elements[0]);let n=[];for(let s of r.elements){let r={ALT:e(t,s,!0)},i=c(s);i&&(r.GATE=u(i)),n.push(r)}let s=t.or++,i=(e,t)=>{let r=t.getRuleStack().join("-");return`uGroup_${e}_${r}`},o=d(t,c(r),e=>t.parser.alternatives(s,n.map((r,n)=>{let o={ALT:()=>!0},a=t.parser;o.ALT=()=>{if(r.ALT(e),!a.isRecording()){let e=i(s,a);a.unorderedGroups.get(e)||a.unorderedGroups.set(e,[]);let t=a.unorderedGroups.get(e);void 0===(null==t?void 0:t[n])&&(t[n]=!0)}};let l=r.GATE;return l?o.GATE=()=>l(e):o.GATE=()=>{let e=a.unorderedGroups.get(i(s,a));return!(null==e?void 0:e[n])},o})),"*");return e=>{o(e),t.parser.isRecording()||t.parser.unorderedGroups.delete(i(s,t.parser))}}(t,r);else if((0,s.ty)(r))l=function(t,r){let n=r.elements.map(r=>e(t,r));return e=>n.forEach(t=>t(e))}(t,r);else if((0,s.rT)(r)){let e=t.consume++;l=()=>t.parser.consume(e,n.sd,r)}else throw new i.h(r.$cstNode,`Unexpected element type: ${r.$type}`);return d(t,o?void 0:c(r),l,r.cardinality)}(t,l.definition)))}}({parser:t,tokens:r,rules:new Map,ruleNames:new Map},e),t}function u(e){if((0,s.F8)(e)){let t=u(e.left),r=u(e.right);return e=>t(e)||r(e)}if((0,s.TB)(e)){let t=u(e.left),r=u(e.right);return e=>t(e)&&r(e)}if((0,s.Ii)(e)){let t=u(e.value);return e=>!t(e)}if((0,s.yW)(e)){let t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if((0,s.L)(e)){let t=!!e.true;return()=>t}(0,i.U)(e)}function c(e){if((0,s.ty)(e))return e.guardCondition}function d(e,t,r,s){let o=t&&u(t);if(!s){if(!o)return r;{let t=e.or++;return s=>e.parser.alternatives(t,[{ALT:()=>r(s),GATE:()=>o(s)},{ALT:(0,n._o)(),GATE:()=>!o(s)}])}}if("*"===s){let t=e.many++;return n=>e.parser.many(t,{DEF:()=>r(n),GATE:o?()=>o(n):void 0})}if("+"===s){let t=e.many++;if(!o)return n=>e.parser.atLeastOne(t,{DEF:()=>r(n)});{let s=e.or++;return i=>e.parser.alternatives(s,[{ALT:()=>e.parser.atLeastOne(t,{DEF:()=>r(i)}),GATE:()=>o(i)},{ALT:(0,n._o)(),GATE:()=>!o(i)}])}}if("?"===s){let t=e.optional++;return n=>e.parser.optional(t,{DEF:()=>r(n),GATE:o?()=>o(n):void 0})}(0,i.U)(s)}function h(e,t){let r=function(e,t){if((0,s.F9)(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,n=r.$container,i=t.$type;for(;!(0,s.F9)(n);)((0,s.ty)(n)||(0,s.MZ)(n)||(0,s.W1)(n))&&(i=n.elements.indexOf(r).toString()+":"+i),r=n,n=n.$container;return i=n.name+":"+i,e.ruleNames.set(t,i),i}}(e,t),n=e.rules.get(r);if(!n)throw Error(`Rule "${r}" not found."`);return n}function f(e,t){let r=e.tokens[t];if(!r)throw Error(`Token "${t}" not found."`);return r}},20548:function(e,t,r){r.d(t,{P:()=>u});var n=r(23324),s=r(64657),i=r(23144),o=r(46577),a=r(79756),l=r(47895);class u{buildTokens(e,t){let r=(0,l.Vw)((0,o.VD)(e,!1)),n=this.buildTerminalTokens(r),s=this.buildKeywordTokens(r,n,t);return n.forEach(e=>{let t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&(0,a.cb)(t)?s.unshift(e):s.push(e)}),s}buildTerminalTokens(e){return e.filter(s.MS).filter(e=>!e.fragment).map(e=>this.buildTerminalToken(e)).toArray()}buildTerminalToken(e){let t=(0,o.s1)(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,s={name:e.name,PATTERN:r,LINE_BREAKS:!0};return e.hidden&&(s.GROUP=(0,a.cb)(t)?n.hW.SKIPPED:"hidden"),s}requiresCustomPattern(e){return!!e.flags.includes("u")||!!(e.source.includes("?<=")||e.source.includes("?<!"))}regexPatternFunction(e){let t=RegExp(e,e.flags+"y");return(e,r)=>(t.lastIndex=r,t.exec(e))}buildKeywordTokens(e,t,r){return e.filter(s.F9).flatMap(e=>(0,i.VY)(e).filter(s.p1)).distinct(e=>e.value).toArray().sort((e,t)=>t.value.length-e.value.length).map(e=>this.buildKeywordToken(e,t,!!(null==r?void 0:r.caseInsensitive)))}buildKeywordToken(e,t,r){return{name:e.value,PATTERN:this.buildKeywordPattern(e,r),LONGER_ALT:this.findLongerAlt(e,t)}}buildKeywordPattern(e,t){return t?new RegExp((0,a.cp)(e.value)):e.value}findLongerAlt(e,t){return t.reduce((t,r)=>{let n=null==r?void 0:r.PATTERN;return(null==n?void 0:n.source)&&(0,a.XC)("^"+n.source+"$",e.value)&&t.push(r),t},[])}}},39897:function(e,t,r){r.d(t,{t:()=>a});var n,s,i=r(64657),o=r(46577);class a{convert(e,t){let r=t.grammarSource;if((0,i.Ki)(r)&&(r=(0,o.eN)(r)),(0,i.t3)(r)){let n=r.rule.ref;if(!n)throw Error("This cst node was not parsed by a rule.");return this.runConverter(n,e,t)}return e}runConverter(e,t,r){var n;switch(e.name.toUpperCase()){case"INT":return s.convertInt(t);case"STRING":return s.convertString(t);case"ID":return s.convertID(t)}switch(null===(n=(0,o.mJ)(e))||void 0===n?void 0:n.toLowerCase()){case"number":return s.convertNumber(t);case"boolean":return s.convertBoolean(t);case"bigint":return s.convertBigint(t);case"date":return s.convertDate(t);default:return t}}}(n=s||(s={})).convertString=function(e){let t="";for(let r=1;r<e.length-1;r++){let n=e.charAt(r);"\\"===n?t+=function(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"	";case"v":return"\v";case"0":return"\0";default:return e}}(e.charAt(++r)):t+=n}return t},n.convertID=function(e){return"^"===e.charAt(0)?e.substring(1):e},n.convertInt=function(e){return parseInt(e)},n.convertBigint=function(e){return BigInt(e)},n.convertDate=function(e){return new Date(e)},n.convertNumber=function(e){return Number(e)},n.convertBoolean=function(e){return"true"===e.toLowerCase()}},18756:function(e,t,r){r(45659),r(27796),r(14884),r(67865),r(32147),r(55309)},45659:function(e,t,r){r.d(t,{M:()=>l});var n=r(30466),s=r(2086),i=r(23144),o=r(331),a=r(81745);class l{constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=n.Ts.None){for(let r of(0,i.Zc)(e.parseResult.value))await (0,o.qT)(t),(0,i.fy)(r).forEach(t=>this.doLink(t,e))}doLink(e,t){let r=e.reference;if(void 0===r._ref)try{let t=this.getCandidate(e);if((0,s.et)(t))r._ref=t;else if(r._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){let n=this.loadAstNode(t);r._ref=null!=n?n:this.createLinkingError(e,t)}}catch(t){r._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${r.$refText}': ${t}`})}t.references.push(r)}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){let t=this.scopeProvider.getScope(e).getElement(e.reference.$refText);return null!=t?t:this.createLinkingError(e)}buildReference(e,t,r,n){let o=this,l={$refNode:r,$refText:n,get ref(){var u;if((0,s.xA)(this._ref))return this._ref;if((0,s.SI)(this._nodeDescription)){let r=o.loadAstNode(this._nodeDescription);this._ref=null!=r?r:o.createLinkingError({reference:l,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){let r=o.getLinkedNode({reference:l,container:e,property:t});if(r.error&&(0,i.Me)(e).state<a.z.ComputedScopes)return;this._ref=null!==(u=r.node)&&void 0!==u?u:r.error,this._nodeDescription=r.descr}return(0,s.xA)(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return(0,s.et)(this._ref)?this._ref:void 0}};return l}getLinkedNode(e){try{let t=this.getCandidate(e);if((0,s.et)(t))return{error:t};let r=this.loadAstNode(t);if(r)return{node:r,descr:t};return{descr:t,error:this.createLinkingError(e,t)}}catch(t){return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${t}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);if(t)return this.astNodeLocator.getAstNode(t.parseResult.value,e.path)}createLinkingError(e,t){let r=(0,i.Me)(e.container);r.state<a.z.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let n=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${n} named '${e.reference.$refText}'.`,targetDescription:t})}}},27796:function(e,t,r){r.d(t,{g:()=>s});var n=r(46577);class s{getName(e){if("string"==typeof e.name)return e.name}getNameNode(e){return(0,n.vb)(e.$cstNode,"name")}}},14884:function(e,t,r){r.d(t,{$:()=>u});var n=r(46577),s=r(2086),i=r(23144),o=r(75314),a=r(47895),l=r(23303);class u{constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=(0,n.h7)(e),r=e.astNode;if(t&&r){let n=r[t.feature];if((0,s.Yk)(n))return n.ref;if(Array.isArray(n)){for(let t of n)if((0,s.Yk)(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}}if(r){let t=this.nameProvider.getNameNode(r);if(t&&(t===e||(0,o.OB)(e,t)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(null==t?void 0:t.$cstNode){let e=this.nameProvider.getNameNode(t);return null!=e?e:t.$cstNode}}findReferences(e,t){let r=[];if(t.includeDeclaration){let t=this.getReferenceToSelf(e);t&&r.push(t)}let n=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(n=n.filter(e=>l.x.equals(e.sourceUri,t.documentUri))),r.push(...n),(0,a.Vw)(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=(0,i.Me)(e),n=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:n,targetUri:r.uri,targetPath:n,segment:(0,o.yn)(t),local:!0}}}}},32147:function(e,t,r){r.d(t,{F:()=>a});var n=r(30466),s=r(23144),i=r(98119),o=r(331);class a{constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=n.Ts.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=s.sx,i=n.Ts.None){let a=[];for(let n of(this.exportNode(e,a,t),r(e)))await (0,o.qT)(i),this.exportNode(n,a,t);return a}exportNode(e,t,r){let n=this.nameProvider.getName(e);n&&t.push(this.descriptions.createDescription(e,n,r))}async computeLocalScopes(e,t=n.Ts.None){let r=e.parseResult.value,a=new i.k;for(let n of(0,s.VY)(r))await (0,o.qT)(t),this.processNode(n,e,a);return a}processNode(e,t,r){let n=e.$container;if(n){let s=this.nameProvider.getName(e);s&&r.add(n,this.descriptions.createDescription(e,s,t))}}}},55309:function(e,t,r){r.d(t,{X:()=>a});var n=r(67865),s=r(23144),i=r(47895),o=r(85016);class a{constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new o.MU(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),n=(0,s.Me)(e.container).precomputedScopes;if(n){let s=e.container;do{let e=n.get(s);e.length>0&&t.push((0,i.Vw)(e).filter(e=>this.reflection.isSubtype(e.type,r))),s=s.$container}while(s)}let o=this.getGlobalScope(r,e);for(let e=t.length-1;e>=0;e--)o=this.createScope(t[e],o);return o}createScope(e,t,r){return new n.kr((0,i.Vw)(e),t,r)}createScopeForNodes(e,t,r){let s=(0,i.Vw)(e).map(e=>{let t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)}).nonNullable();return new n.kr(s,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,()=>new n.CY(this.indexManager.allElements(e)))}}},67865:function(e,t,r){r.d(t,{CY:()=>i,kr:()=>s});var n=r(47895);class s{constructor(e,t,r){var n;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find(t=>t.name.toLowerCase()===e.toLowerCase()):this.elements.find(t=>t.name===e);return t||(this.outerScope?this.outerScope.getElement(e):void 0)}}class i{constructor(e,t,r){var n;for(let t of(this.elements=new Map,this.caseInsensitive=null!==(n=null==r?void 0:r.caseInsensitive)&&void 0!==n&&n,e)){let e=this.caseInsensitive?t.name.toLowerCase():t.name;this.elements.set(e,t)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);return r||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=(0,n.Vw)(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}}},51887:function(e,t,r){r.d(t,{Z:()=>u});var n=r(6149),s=r(64657),i=r(2086),o=r(23144),a=r(98119),l=r(75314);class u{constructor(e){this.grammarElementIdMap=new a.Y,this.tokenTypeIdMap=new a.Y,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors.map(e=>Object.assign({},e)),parserErrors:e.parserErrors.map(e=>Object.assign({},e)),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}createDehyrationContext(e){let t=new Map,r=new Map;for(let r of(0,o.Zc)(e))t.set(r,{});if(e.$cstNode)for(let t of(0,l._t)(e.$cstNode))r.set(t,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);for(let[n,s]of(r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t)),Object.entries(e)))if(!n.startsWith("$")){if(Array.isArray(s)){let e=[];for(let o of(r[n]=e,s))(0,i.xA)(o)?e.push(this.dehydrateAstNode(o,t)):(0,i.Yk)(o)?e.push(this.dehydrateReference(o,t)):e.push(o)}else(0,i.xA)(s)?r[n]=this.dehydrateAstNode(s,t):(0,i.Yk)(s)?r[n]=this.dehydrateReference(s,t):void 0!==s&&(r[n]=s)}return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return(0,i.U8)(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),(0,i.al)(e)?r.content=e.content.map(e=>this.dehydrateCstNode(e,t)):(0,i.dm)(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t;let r=new Map,s=new Map;for(let t of(0,o.Zc)(e))r.set(t,{});if(e.$cstNode)for(let r of(0,l._t)(e.$cstNode)){let e;"fullText"in r?t=e=new n.Vc(r.fullText):"content"in r?e=new n.ho:"tokenType"in r&&(e=this.hydrateCstLeafNode(r)),e&&(s.set(r,e),e.root=t)}return{astNodes:r,cstNodes:s}}hydrateAstNode(e,t){let r=t.astNodes.get(e);for(let[n,s]of(r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode)),Object.entries(e)))if(!n.startsWith("$")){if(Array.isArray(s)){let e=[];for(let o of(r[n]=e,s))(0,i.xA)(o)?e.push(this.setParent(this.hydrateAstNode(o,t),r)):(0,i.Yk)(o)?e.push(this.hydrateReference(o,r,n,t)):e.push(o)}else(0,i.xA)(s)?r[n]=this.setParent(this.hydrateAstNode(s,t),r):(0,i.Yk)(s)?r[n]=this.hydrateReference(s,r,n,t):void 0!==s&&(r[n]=s)}return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,n){return this.linker.buildReference(t,r,n.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let n=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(n.grammarSource=this.getGrammarElement(e.grammarSource)),n.astNode=t.astNodes.get(e.astNode),(0,i.al)(n))for(let s of e.content){let e=this.hydrateCstNode(s,t,r++);n.content.push(e)}return n}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,s=e.length,i=e.startLine,o=e.startColumn,a=e.endLine,l=e.endColumn,u=e.hidden;return new n.EO(r,s,{start:{line:i,character:o},end:{line:a,character:l}},t,u)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap();let t=this.grammarElementIdMap.getKey(e);if(t)return t;throw Error("Invalid grammar element id: "+e)}createGrammarElementIdMap(){let e=0;for(let t of(0,o.Zc)(this.grammar))(0,s.zJ)(t)&&this.grammarElementIdMap.set(t,e++)}}},22697:function(e,t,r){r(51887),r(10211)},10211:function(e,t,r){r.d(t,{R:()=>a,Y:()=>u});var n=r(36621),s=r(2086),i=r(23144),o=r(46577);function a(e){return"string"==typeof e.$comment}function l(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}class u{constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t={}){let r=null==t?void 0:t.replacer,n=(e,r)=>this.replacer(e,r,t),s=r?(e,t)=>r(e,t,n):n;try{return this.currentDocument=(0,i.Me)(e),JSON.stringify(e,s,null==t?void 0:t.space)}finally{this.currentDocument=void 0}}deserialize(e,t={}){let r=JSON.parse(e);return this.linkNode(r,r,t),r}replacer(e,t,{refText:r,sourceText:n,textRegions:o,comments:a,uriConverter:l}){var u,c,d,h;if(!this.ignoreProperties.has(e)){if((0,s.Yk)(t)){let e=t.ref,n=r?t.$refText:void 0;if(!e)return{$error:null!==(c=null===(u=t.error)||void 0===u?void 0:u.message)&&void 0!==c?c:"Could not resolve reference",$refText:n};{let r=(0,i.Me)(e),s="";this.currentDocument&&this.currentDocument!==r&&(s=l?l(r.uri,t):r.uri.toString());let o=this.astNodeLocator.getAstNodePath(e);return{$ref:`${s}#${o}`,$refText:n}}}if(!(0,s.xA)(t))return t;{let r;if(o&&(r=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&(null==r?void 0:r.$textRegion)&&(r.$textRegion.documentURI=null===(d=this.currentDocument)||void 0===d?void 0:d.uri.toString())),n&&!e&&(null!=r||(r=Object.assign({},t)),r.$sourceText=null===(h=t.$cstNode)||void 0===h?void 0:h.text),a){null!=r||(r=Object.assign({},t));let e=this.commentProvider.getComment(t);e&&(r.$comment=e.replace(/\r/g,""))}return null!=r?r:t}}}addAstNodeRegionWithAssignmentsTo(e){let t=e=>({offset:e.offset,end:e.end,length:e.length,range:e.range});if(e.$cstNode){let r=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter(e=>!e.startsWith("$")).forEach(n=>{let s=(0,o.EL)(e.$cstNode,n).map(t);0!==s.length&&(r[n]=s)}),e}}linkNode(e,t,r,n,i,o){for(let[n,i]of Object.entries(e))if(Array.isArray(i))for(let o=0;o<i.length;o++){let a=i[o];l(a)?i[o]=this.reviveReference(e,n,t,a,r):(0,s.xA)(a)&&this.linkNode(a,t,r,e,n,o)}else l(i)?e[n]=this.reviveReference(e,n,t,i,r):(0,s.xA)(i)&&this.linkNode(i,t,r,e,n);e.$container=n,e.$containerProperty=i,e.$containerIndex=o}reviveReference(e,t,r,n,i){let o=n.$refText,a=n.$error;if(n.$ref){let e=this.getRefNode(r,n.$ref,i.uriConverter);if((0,s.xA)(e))return o||(o=this.nameProvider.getName(e)),{$refText:null!=o?o:"",ref:e};a=e}if(a){let r={$refText:null!=o?o:""};return r.error={container:e,property:t,message:a,reference:r},r}}getRefNode(e,t,r){try{let s=t.indexOf("#");if(0===s){let r=this.astNodeLocator.getAstNode(e,t.substring(1));if(!r)return"Could not resolve path: "+t;return r}if(s<0){let e=r?r(t):n.o.parse(t),s=this.langiumDocuments.getDocument(e);if(!s)return"Could not find document for URI: "+t;return s.parseResult.value}let i=r?r(t.substring(0,s)):n.o.parse(t.substring(0,s)),o=this.langiumDocuments.getDocument(i);if(!o)return"Could not find document for URI: "+t;if(s===t.length-1)return o.parseResult.value;let a=this.astNodeLocator.getAstNode(o.parseResult.value,t.substring(s+1));if(!a)return"Could not resolve URI: "+t;return a}catch(e){return String(e)}}}},5353:function(e,t,r){r.d(t,{Z:()=>s});var n=r(23303);class s{register(e){if(!this.singleton&&!this.map){this.singleton=e;return}if(!this.map&&(this.map={},this.singleton)){for(let e of this.singleton.LanguageMetaData.fileExtensions)this.map[e]=this.singleton;this.singleton=void 0}for(let t of e.LanguageMetaData.fileExtensions)void 0!==this.map[t]&&this.map[t]!==e&&console.warn(`The file extension ${t} is used by multiple languages. It is now assigned to '${e.LanguageMetaData.languageId}'.`),this.map[t]=e}getServices(e){if(void 0!==this.singleton)return this.singleton;if(void 0===this.map)throw Error("The service registry is empty. Use `register` to register the services of a language.");let t=n.x.extname(e),r=this.map[t];if(!r)throw Error(`The service registry contains no services for the extension '${t}'.`);return r}get all(){return void 0!==this.singleton?[this.singleton]:void 0!==this.map?Object.values(this.map):[]}}},2086:function(e,t,r){function n(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function s(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function i(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.type&&"string"==typeof e.path}function o(e){return"object"==typeof e&&null!==e&&n(e.container)&&s(e.reference)&&"string"==typeof e.message}r.d(t,{$v:()=>a,SI:()=>i,U8:()=>c,Yk:()=>s,al:()=>l,dm:()=>u,et:()=>o,xA:()=>n});class a{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return n(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let n=r[t];if(void 0!==n)return n;{let n=this.computeIsSubtype(e,t);return r[t]=n,n}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let t=this.getAllTypes(),r=[];for(let n of t)this.isSubtype(n,e)&&r.push(n);return this.allSubtypes[e]=r,r}}}function l(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function u(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function c(e){return l(e)&&"string"==typeof e.fullText}}}]);
//# sourceMappingURL=1282.afed4f72307e8873.js.map